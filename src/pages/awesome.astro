---
import BaseLayout from "@layouts/Base";

import { getCollection } from 'astro:content';


const awesomeEntries = await getCollection('awesome');
awesomeEntries.sort((o1, o2) => {
  if(o1.data.added_date > o2.data.added_date || o1.data.pin)  return  -1;
  else if (o1.data.added_date < o2.data.added_date)           return 1;
  else                                                        return  0;
});

---

<BaseLayout title="Awesome" description="A curation of awesome things">

	<h2>My Awesome list</h2>
    <p>
      This is a curated list of things I have discovered on the web and found interesting or
      thought-provoking, there is also some fun stuff.
    </p>
    <p>
      Potential subjects include, but are not limited to, programming, engineering, technology,
      and woodworking.
    </p>
    <p>
      The list is sorted by date of addition (latest first), expect for my favorites wich are pinned.
    </p>
    <ul>
      {awesomeEntries.map(entry => (
        <li>
          <fieldset>
            <legend>
              {entry.data.pin ? "ðŸ“Œ" : ""}
              <a href={entry.data.link}>
                {entry.data.title}
                {entry.data.author ? `by ${entry.data.author}` : ""}
                {entry.data.published_date ? `(${entry.data.published_date.getFullYear()})` : "" }
              </a>
            </legend>
            <p>
              <Fragment set:html={entry.data.description} />
            </p>
          </fieldset>
        </li>
      ))}
    </ul>



</BaseLayout>

<style>
    ul {
      padding-inline-start: 0px
    }
    li  {
      margin: 1em 0;
      list-style-type: none;
    }

    fieldset > p {
      text-align: justify;
      margin-block-start: 0;
      margin-block-end: 0;
    }

</style>

